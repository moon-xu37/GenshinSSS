# 简介

本项目的名称为`原神简单半自动模拟器`(`简半模拟器`)

The name of this project is `Simple Semi-Automatic Simulator`(`SSS`)

本项目面向中国玩家社区开发，力求通过最简单的中文文字输入完成常用的伤害计算、配队展示、可视化呈现等一系列功能，满足攻略作者、深度玩家的一系列需求。

# 特性

`简单`和`半自动`是本模拟器的两大特点：

## 简单

1. 贴近中国玩家。完全实现中文的输入和使用说明，免除语言困扰。同时，使用说明书比较详细，并会根据反馈持续更新。
2. 方便易用。只需准备好txt文档，然后点击exe文件即可开始运行，全程大约需要30秒，不用再忍受缓慢的网速。
3. 开源免费。不用忍受烦人的广告。

## 半自动

1. 所有指令必须伴随时间输入。这样保证了准确度，方便检查错误，杜绝偷轴漏轴。
2. 各种数值计算分别输入。伤害、buff、治疗、盾值、能量、元素量分别输入。这虽然增加了输入的复杂度，但是拓展了自由度，有利于应对各种例外情况。

# 下载使用

1. 进入github的release页面下载exe文件

2. 进入百度云分享页面下载exe文件

3. 直接运行main.py

# 入门教程

完成下载后，你只需要准备一个空txt文档就可以开始使用

## 创建人物

首先可以阅读`docs`文件夹内的`设计.md`大体了解指令的格式

参考`docs`文件夹内的`角色详情.md`文档，进行人物的创建

例如：

```
角色[神里]<90,0,10,10,10>;
圣遗物[冰套]{神里}<攻击%,冰伤,暴伤>(攻击%=34,充能=34,暴击=104,暴伤=68);
武器[雾切]{神里}<90,1>;
```

## 创建伤害

参考`docs`文件夹内的`角色详情.md`文档，进行伤害的输入

例如：

```
伤害[E]{神里}<1>; 
伤害[A1]{神里}<2>(元素=冰);
伤害[A2]{神里}<3>(元素=冰);
伤害[Q]{神里}<4>(序列=是);
```

## 添加buff

参考`docs`文件夹内的`角色详情.md`、`圣遗物详情.md`、`武器详情.md`等文档，进行buff的输入

例如：

```
buff[天赋一]{神里}<1>;
buff[圣遗物]{神里}<1,5>(手动=是,层数=1);
buff[武器]{神里}<1,5>(手动=是,层数=3);
```

## 运行

将exe文件(或main.py文件)和txt文档放在同一文件夹下，txt文档不要和程序的文件同名，否则会出错

运行exe文件(或main.py文件)

根据提示，输入`s`、`o`或者`回车`以选择模式，推荐新手直接输入回车

根据提示，输入要解释的文件的序号

然后等待程序自动完成任务

## 输出

程序会输出大量的数据，以完整输出模式为例，会输出以下图片：

1. 动作甘特图：即常说的动作“轴”
2. buff甘特图：即常说的buff“轴”
3. 角色详情：每个角色的天赋、装备、面板值
4. 伤害饼图：不同角色的伤害值及其占比。图例按逆时针依次排列。
5. 累积伤害值：角色累积造成的伤害
6. 伤害占比图：即常说的“DPS”图
7. 面板记录：记录角色的面板值变化
8. 伤害记录：记录每个角色造成的伤害值并显示DPS
9. 伤害组成：每个角色伤害的基础值构成和非增幅/增幅伤害比例
10. 模拟结果：使用蒙特卡罗模拟，计算伤害值的分布

会输出以下表格/JSON文件：

1. log：模拟过程中的所有事件记录
2. sum：每个角色的各类伤害记录
3. numeric：每个伤害值的记录
4. gradient：总伤害的偏导数计算，即“单个词条提升的伤害值”
5. tree：每个伤害的表达式记录
6. merge：表达式的同类项合并

## 其他说明

在有疑问时，可以先到docs文件夹内寻找是否有使用说明，并参考demo文件夹内的实例

多多尝试可以更快地掌握使用技巧

# 反馈

如果你发现了bug/有不能解决的问题/想加入一起开发/写了一份很好的指令txt并想分享，可以有以下方法反馈：

1. 加入QQ群聊：882735732
2. 在NGA的相关帖子里反馈

